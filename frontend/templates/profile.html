{% extends "base_dashboard.html" %}

{% block title %}Mon Profil{% endblock %}

{% block content %}
<div class="container mt-5">
    <!-- SECTION: Carte profil employé -->
    <div class="card shadow-lg p-4">
        <h2 class="text-center mb-4">Mon Profil</h2>

        <div class="row">
            <!-- Colonne gauche : avatar + rôle -->
            <div class="col-md-4 text-center">
                <img src="/static/images/avatar.png" alt="Photo de profil" class="img-fluid rounded-circle" width="150">
                <h4 class="mt-3" id="user_name">{{ user.name }}</h4>
                <span class="badge bg-info">{{ user.role }}</span>
            </div>

            <!-- Colonne droite : informations détaillées -->
            <div class="col-md-8">
                <table class="table">
                    <tr>
                        <th>Nom :</th>
                        <td id="user_name">{{ user.name }}</td>
                    </tr>
                    <tr>
                        <th>Email :</th>
                        <td id="user_email">{{ user.email }}</td>
                    </tr>
                    <tr>
                        <th>Rôle :</th>
                        <td id="user_role">{{ user.role }}</td>
                    </tr>
                    <tr>
                        <th>Date d'embauche :</th>
                        <td id="hire_date">{{ user.hire_date.strftime('%Y-%m-%d') }}</td>
                    </tr>
                    <tr>
                        <th>Département :</th>
                        <td id="user_department">{{ user.department or "Non renseigné" }}</td>
                    </tr>
                    <tr>
                        <th>Salaire :</th>
                        <td id="user_salary">{{ user.salary or "Non renseigné" }}</td>
                    </tr>
                    <tr>
                        <th>Expérience :</th>
                        <td id="user_experience">{{ user.experience or "Non renseignée" }}</td>
                    </tr>
                    <tr>
                        <th>Date de naissance :</th>
                        <td id="user_birth_date">{{ user.birth_date or "Non renseignée" }}</td>
                    </tr>
                    <tr>
                        <th>Superviseur :</th>
                        <td id="user_supervisor">{{ supervisor.name if supervisor else "Non défini" }}</td>
                    </tr>
                </table>

               
                
            </div>
        </div>
    </div>
</div>

<!-- SECTION: Script de mise à jour du profil via API -->
<script src="/static/js/main.js"></script>
{% endblock %}
